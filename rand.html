<html>
<script>
function shuffle(a) {
    var j, x, i;
    for (i = a.length - 1; i > 0; i--) {
        j = Math.floor(Math.random() * (i + 1));
        x = a[i];
        a[i] = a[j];
        a[j] = x;
    }
    return a;
}
var x = 29;
var y = [];

function rand(){
for (var i = 1; i<=x;i++){
y.push(i);
}
for (var i = 0; i < 10000; i++){
shuffle(y);
}
}

var fakecount = 0;

function fakenum(){
     if (fakecount > 30){
	     shiftnum();
		  return;
	  }

document.getElementById("num").innerHTML = randpick();
fakecount++;
	  setTimeout(function(){fakenum()}, 50);
}

function randpick(){
    if (y.length > 0){
        return y[Math.floor(Math.random() * y.length)];
    }
}

function setnum(){
if (y.length==0){
alert("Finished");
return;
}
fakecount=0;
fakenum();
}

function shiftnum(){
var num = y.shift();
if (!num){
alert("Finished");
return;
}
document.getElementById("num").innerHTML = num ;
}

function range(){
x = parseInt(prompt("Range"));
rand();
}
</script>
<body>
<div style="width: 100%; height: 100%">
<center>
<h1 id="num" style="font-size: 72px">---</h1>
</center>
<input type="button" value="Set range" onclick="range()" />
<input type="button" value="Shift" onclick="setnum()" />
</div>
</body>
</html>